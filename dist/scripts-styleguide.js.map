{"version":3,"sources":["02-molecules/accordion/accordion.js","02-molecules/menus/main-menu/main-menu.js"],"names":["$","Drupal","accordionHeading","accordionContent","accordionIcon","activeClass","hiddenClass","addClass","click","e","preventDefault","siblings","toggleClass","jQuery","waitForFinalEvent","timers","callback","ms","uniqueId","clearTimeout","setTimeout","dom","document","win","window","body","mainMenuToggle","mainMenuToggleOpen","mainMenu","mainMenuSub","sideMenuSub","sideMenuSubInner","mainMenuWithSub","mainMenuExpandSub","sideMenuExpandSub","mainMenuSubIcon","sideMenuSubIcon","header","contentTopRegion","layoutContainer","winH","parseInt","height","winW","width","bodyPaddingTop","headerHeight","maxHeight","mainMenuHeight","outerHeight","mainMenuActiveItem","dummyElement","dummyElementMaxHeight","currentScrollTop","totalHeightToSkip","mainMenuSubOpen","sideMenuSubOpen","menuVisible","mainMenuActive","noscroll","mainMenuBg","removeMainMenuBg","remove","mainMenuBgToggle","length","get","scrollIntoView","css","top","append","children","next","calculateBodyPaddingTop","calculateHeaderHeight","setSideMenuSubMaxHeight","each","clone","insertAfter","closest","calculateMenuHeights","ready","resize","removeClass","c","scroll","scrollTop"],"mappings":"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","file":"scripts-styleguide.js","sourcesContent":["(function ($, Drupal) {\n\n  const accordionHeading = $('.accordion__heading');\n  const accordionContent = $('.accordion__content');\n  const accordionIcon = $('.accordion__expand-icon');\n  const activeClass = 'js-active';\n  const hiddenClass = 'js-hidden';\n\n  // Hide content via js so that if js is disabled, all of the content is visible\n  accordionContent.addClass(hiddenClass);\n\n  accordionHeading.click(function (e) {\n    e.preventDefault();\n    $(this).siblings().toggleClass(activeClass);\n    $(this).siblings().toggleClass(hiddenClass);\n  });\n\n}(jQuery, Drupal));\n","(function ($, Drupal) {\n\n  // WaitForFinalEvent Function\n  // This function allow us to only perform re-calculations AFTER an event has copmleted.\n  // Below, we'll use it to recalculate values only after the window has been resized, instead of recalculating every pixel change.\n  // Usage:\n  // $(window).resize(function () {\n  //   waitForFinalEvent(function(){\n  //     alert('Resize...');\n  //     //...\n  //   }, 500, \"some unique string\");\n  // });\n  const waitForFinalEvent = (function () {\n    const timers = {};\n    return function (callback, ms, uniqueId) {\n      if (!uniqueId) {\n        uniqueId = \"Don't call this twice without a uniqueId\";\n      }\n      if (timers[uniqueId]) {\n        clearTimeout (timers[uniqueId]);\n      }\n      timers[uniqueId] = setTimeout(callback, ms);\n    };\n  })();\n\n  // Element selectors\n  const dom = $(document);\n  const win = $(window);\n  const body = $('body');\n  const mainMenuToggle = $('.main-menu-toggle');\n  const mainMenuToggleOpen = $('.main-menu-toggle--open');\n  const mainMenu = $('.main-nav');\n  const mainMenuSub = $('.main-menu__dropdown');\n  const sideMenuSub = $('.side-menu__dropdown');\n  const sideMenuSubInner = $('.side-menu__dropdown-inner');\n  const mainMenuWithSub = $('.main-menu__item--with-sub');\n  const mainMenuExpandSub = $('.main-menu__expand-sub');\n  const sideMenuExpandSub = $('.side-menu__expand-sub');\n  const mainMenuSubIcon = $('.main-menu__sub-icon');\n  const sideMenuSubIcon = $('.side-menu__sub-icon');\n  const header = $('.header-wrapper');\n  const contentTopRegion = $('.content-top-region');\n  const layoutContainer = $('.layout-container');\n\n  // Calculated values\n  let winH = parseInt(win.height(), 10);\n  let winW = parseInt(win.width(), 10);\n  let bodyPaddingTop = 0;\n  let headerHeight = 0;\n  let maxHeight = '100vh';\n  let mainMenuHeight = mainMenu.outerHeight();\n  let mainMenuActiveItem = $('.is-active');\n  let dummyElement = $('');\n  let dummyElementMaxHeight = '0';\n  let currentScrollTop = 0;\n  let totalHeightToSkip = 0;\n\n  // Classes\n  const mainMenuSubOpen = 'main-menu__sub-icon--open';\n  const sideMenuSubOpen = 'side-menu__sub-icon--open';\n  const menuVisible = 'js-visible';\n  const mainMenuActive = 'js-menu-active';\n  const noscroll = 'noscroll';\n\n  // New elements\n  let mainMenuBg = '';\n\n  // Expand parent items if current page is the active menu item\n  $('.main-menu__item--active-trail > .main-menu__expand-sub > .main-menu__sub-icon').addClass(mainMenuSubOpen);\n  $('.main-menu__item--active-trail > .main-menu__dropdown').addClass(menuVisible);\n\n  $('.side-menu__item--active-trail > .side-menu__expand-sub > .side-menu__sub-icon').addClass(sideMenuSubOpen);\n  $('.side-menu__item--active-trail > .side-menu__dropdown').addClass(menuVisible);\n\n  // Remove mobile nav background\n  function removeMainMenuBg() {\n    mainMenuBg.remove();\n    mainMenuBg = '';\n  }\n\n  // Show/Hide overlay\n  function mainMenuBgToggle() {\n    // Prevent the background from scrolling when the mobile menu is active\n    body.toggleClass(noscroll);\n\n    // Display main menu\n    mainMenu.toggleClass(menuVisible);\n\n    //Scroll to main menu items\n    mainMenuActiveItem = $('.is-active');\n    if (mainMenuActiveItem.length) {\n      mainMenuActiveItem.get(0).scrollIntoView();\n    }\n\n    // Remove the overlay if it exists\n    if (mainMenuBg.length) {\n      removeMainMenuBg();\n    }\n    // Add overlay if needed\n    else {\n      mainMenuBg = $('<span class=\"js-main-menu-close\" />');\n      mainMenuBg.css({top: bodyPaddingTop});\n      mainMenuToggleOpen.append(mainMenuBg);\n    }\n  };\n\n\n\n  // Main Menu\n  mainMenuToggle.click(function (e) {\n    e.preventDefault();\n    mainMenuBgToggle();\n    // expandParents();\n\n  });\n\n  // Display Sub-nav\n  mainMenuExpandSub.click(function (e) {\n    e.preventDefault();\n    $(this).children(mainMenuSubIcon).toggleClass(mainMenuSubOpen);\n    $(this).next(mainMenuSub).toggleClass(menuVisible);\n  });\n\n  // Display Sub-nav\n  sideMenuExpandSub.click(function (e) {\n    e.preventDefault();\n    $(this).children(sideMenuSubIcon).toggleClass(sideMenuSubOpen);\n    $(this).next(sideMenuSub).toggleClass(menuVisible);\n  });\n\n  // Calculate body padding top (to accommodate the admin menu)\n  function calculateBodyPaddingTop() {\n    bodyPaddingTop = parseInt(body.css('padding-top'), 10);\n  };\n\n  // Calculate header height (to accommodate the fixed header bar)\n  function calculateHeaderHeight() {\n    headerHeight = 0;\n    if (header.css('position') == 'fixed') {\n      headerHeight = parseInt(header.css('height'), 10);\n    }\n  };\n\n  function setSideMenuSubMaxHeight() {\n    $(sideMenuSubInner).each(function () {\n      dummyElement = $(this).clone();\n      dummyElement.css({'visibility': 'hidden', 'position': 'absolute', 'max-height': 'unset' }).insertAfter(this);\n      dummyElementMaxHeight = dummyElement.height();\n      dummyElement.remove();\n      $(this).closest(sideMenuSub).css({'max-height': dummyElementMaxHeight});\n    });\n  }\n\n  // Set the height and position of the main-nav and header bar\n  function calculateMenuHeights() {\n    dom.ready(function() {\n      winH = parseInt(win.height(), 10);\n      calculateBodyPaddingTop();\n      calculateHeaderHeight();\n      maxHeight = winH - bodyPaddingTop;\n      mainMenu.css({'top': bodyPaddingTop, 'max-height': maxHeight});\n      header.css({'top': bodyPaddingTop});\n      layoutContainer.css({'margin-top': headerHeight});\n      setSideMenuSubMaxHeight();\n    });\n  };\n\n  calculateMenuHeights();\n\n  // Update everything when the window is resized\n  win.resize(function () {\n    waitForFinalEvent(function(){\n      winW = parseInt(win.width(), 10);\n      // If desktop width remove all mobile menu stuff\n      if (winW > 900) {\n        // Remove background overlay\n        if (mainMenuBg.length) {\n          removeMainMenuBg();\n        }\n        // Remove noscroll class from body\n        body.removeClass(noscroll);\n        // Hide mobile menu\n        mainMenu.removeClass(menuVisible);\n      }\n      // setHeaderMarginTop();\n      calculateMenuHeights();\n    }, 100, \"Main menu - window resize\");\n  });\n\n  calculateBodyPaddingTop();\n  var c;\n\n  win.scroll(function () {\n     currentScrollTop = parseInt(win.scrollTop());\n     if (c < currentScrollTop && currentScrollTop > bodyPaddingTop + headerHeight) {\n       header.addClass(\"scrollUp\");\n     } else if (c > currentScrollTop && !(currentScrollTop <= headerHeight)) {\n       header.removeClass(\"scrollUp\");\n     }\n     c = currentScrollTop;\n   });\n\n}(jQuery, Drupal));\n"]}