{"version":3,"sources":["02-molecules/accordion/accordion.js","02-molecules/menus/main-menu/main-menu.js"],"names":["$","Drupal","waitForFinalEvent","timers","callback","ms","uniqueId","clearTimeout","setTimeout","accordionTabsItem","accordionTabsItemContent","accordionTabsItemHeading","accordionItem","accordionHeading","accordionContent","accordionIcon","activeClass","hiddenClass","openClass","closedClass","win","window","winW","parseInt","width","maxHeight","elems","Math","max","apply","map","outerHeight","get","maxTabsHeadingHeight","maxTabsContentHeight","maxTabHeight","css","top","maxHeadingHeight","maxIconHeight","accordionTopOffset","addClass","children","first","removeClass","click","e","preventDefault","parent","siblings","resize","height","jQuery","dom","document","body","mainMenuToggle","mainMenuToggleOpen","mainMenu","mainMenuSub","sideMenuSub","sideMenuSubInner","mainMenuWithSub","mainMenuExpandSub","sideMenuExpandSub","mainMenuSubIcon","sideMenuSubIcon","header","contentTopRegion","layoutContainer","winH","bodyPaddingTop","headerHeight","mainMenuHeight","mainMenuActiveItem","dummyElement","dummyElementMaxHeight","currentScrollTop","totalHeightToSkip","mainMenuSubOpen","sideMenuSubOpen","menuVisible","mainMenuActive","noscroll","mainMenuBg","removeMainMenuBg","remove","mainMenuBgToggle","toggleClass","length","scrollIntoView","append","next","calculateBodyPaddingTop","calculateHeaderHeight","setSideMenuSubMaxHeight","each","clone","insertAfter","closest","calculateMenuHeights","ready","c","scroll","scrollTop"],"mappings":"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","file":"scripts-styleguide.js","sourcesContent":["(function ($, Drupal) {\n\n  // WaitForFinalEvent Function\n  // This function allow us to only perform re-calculations AFTER an event has copmleted.\n  // Below, we'll use it to recalculate values only after the window has been resized, instead of recalculating every pixel change.\n  // Usage:\n  // $(window).resize(function () {\n  //   waitForFinalEvent(function(){\n  //     alert('Resize...');\n  //     //...\n  //   }, 500, \"some unique string\");\n  // });\n  const waitForFinalEvent = (function () {\n    const timers = {};\n    return function (callback, ms, uniqueId) {\n      if (!uniqueId) {\n        uniqueId = \"Don't call this twice without a uniqueId\";\n      }\n      if (timers[uniqueId]) {\n        clearTimeout (timers[uniqueId]);\n      }\n      timers[uniqueId] = setTimeout(callback, ms);\n    };\n  })();\n\n  const accordionTabsItem = $('.tabs .accordion__item');\n  const accordionTabsItemContent = $('.tabs .accordion__item .accordion__content');\n  const accordionTabsItemHeading = $('.tabs .accordion__item .accordion__heading');\n  const accordionItem = $('.accordion__item');\n  const accordionHeading = $('.accordion__heading');\n  const accordionContent = $('.accordion__content');\n  const accordionIcon = $('.accordion__expand-icon');\n  const activeClass = 'js-active';\n  const hiddenClass = 'js-hidden';\n  const openClass = 'js-open';\n  const closedClass = 'js-closed';\n  const win = $(window);\n\n  let winW = parseInt(win.width(), 10);\n\n  let maxHeight = function(elems){\n    return Math.max.apply(null, elems.map(function ()\n    {\n        return $(this).outerHeight();\n    }).get());\n  }\n\n  let maxTabsHeadingHeight = maxHeight(accordionTabsItemHeading);\n  let maxTabsContentHeight = maxHeight(accordionTabsItemContent);\n  let maxTabHeight = maxTabsHeadingHeight + maxTabsContentHeight;\n\n  accordionTabsItem.outerHeight(maxTabHeight);\n  // Add extra pixel to make header overlap content and override it's border.\n  accordionTabsItemHeading.outerHeight((parseInt(maxTabsHeadingHeight) + 1));\n  accordionTabsItemContent.css({ top: maxTabsHeadingHeight });\n\n  let maxHeadingHeight = maxHeight(accordionHeading);\n  let maxIconHeight = maxHeight(accordionIcon);\n\n  let accordionTopOffset = (parseInt(maxHeadingHeight) / 2) - (parseInt(maxIconHeight) / 2);\n  accordionIcon.css({ top: accordionTopOffset });\n\n  // Hide content via js so that if js is disabled, all of the content is visible\n  accordionItem.addClass(closedClass);\n  accordionItem.children().addClass(closedClass);\n\n  // Initialize tabs if needed\n  accordionTabsItem.first().addClass(openClass).removeClass(closedClass);\n  accordionTabsItem.first().children().addClass(openClass).removeClass(closedClass);\n\n  accordionHeading.click(function (e) {\n    e.preventDefault();\n    $(this).parent().addClass(openClass).removeClass(closedClass);\n    $(this).parent().children().addClass(openClass).removeClass(closedClass);\n\n    $(this).parent().siblings().addClass(closedClass).removeClass(openClass);\n    $(this).parent().siblings().children().addClass(closedClass).removeClass(openClass);\n  });\n\n  // Update everything when the window is resized\n  win.resize(function () {\n    waitForFinalEvent(function(){\n    winW = parseInt(win.width(), 10);\n    // If desktop width set height\n    // Clear manually set css and height\n    accordionTabsItem.height('');\n    accordionTabsItemContent.css({ top: '' });\n    accordionTabsItemHeading.height('');\n\n    // Always position icon\n    accordionIcon.css({ top: (parseInt(maxTabsHeadingHeight) / 2) });\n\n    if (winW > 900) {\n      maxTabsHeadingHeight = maxHeight(accordionTabsItemHeading);\n      maxTabsContentHeight = maxHeight(accordionTabsItemContent);\n      maxTabHeight = maxTabsHeadingHeight + maxTabsContentHeight;\n\n      accordionTabsItem.outerHeight(maxTabHeight);\n      // Add extra pixel to make header overlap content and override it's border.\n      accordionTabsItemHeading.outerHeight((parseInt(maxTabsHeadingHeight) + 1));\n      accordionTabsItemContent.css({ top: maxTabsHeadingHeight });\n    }\n\n    }, 100, \"Accordion - window resize\");\n  });\n\n}(jQuery, Drupal));\n","(function ($, Drupal) {\n\n  // WaitForFinalEvent Function\n  // This function allow us to only perform re-calculations AFTER an event has copmleted.\n  // Below, we'll use it to recalculate values only after the window has been resized, instead of recalculating every pixel change.\n  // Usage:\n  // $(window).resize(function () {\n  //   waitForFinalEvent(function(){\n  //     alert('Resize...');\n  //     //...\n  //   }, 500, \"some unique string\");\n  // });\n  const waitForFinalEvent = (function () {\n    const timers = {};\n    return function (callback, ms, uniqueId) {\n      if (!uniqueId) {\n        uniqueId = \"Don't call this twice without a uniqueId\";\n      }\n      if (timers[uniqueId]) {\n        clearTimeout (timers[uniqueId]);\n      }\n      timers[uniqueId] = setTimeout(callback, ms);\n    };\n  })();\n\n  // Element selectors\n  const dom = $(document);\n  const win = $(window);\n  const body = $('body');\n  const mainMenuToggle = $('.main-menu-toggle');\n  const mainMenuToggleOpen = $('.main-menu-toggle--open');\n  const mainMenu = $('.main-nav');\n  const mainMenuSub = $('.main-menu__dropdown');\n  const sideMenuSub = $('.side-menu__dropdown');\n  const sideMenuSubInner = $('.side-menu__dropdown-inner');\n  const mainMenuWithSub = $('.main-menu__item--with-sub');\n  const mainMenuExpandSub = $('.main-menu__expand-sub');\n  const sideMenuExpandSub = $('.side-menu__expand-sub');\n  const mainMenuSubIcon = $('.main-menu__sub-icon');\n  const sideMenuSubIcon = $('.side-menu__sub-icon');\n  const header = $('.header-wrapper');\n  const contentTopRegion = $('.content-top-region');\n  const layoutContainer = $('.layout-container');\n\n  // Calculated values\n  let winH = parseInt(win.height(), 10);\n  let winW = parseInt(win.width(), 10);\n  let bodyPaddingTop = 0;\n  let headerHeight = 0;\n  let maxHeight = '100vh';\n  let mainMenuHeight = mainMenu.outerHeight();\n  let mainMenuActiveItem = $('.is-active');\n  let dummyElement = $('');\n  let dummyElementMaxHeight = '0';\n  let currentScrollTop = 0;\n  let totalHeightToSkip = 0;\n\n  // Classes\n  const mainMenuSubOpen = 'main-menu__sub-icon--open';\n  const sideMenuSubOpen = 'side-menu__sub-icon--open';\n  const menuVisible = 'js-visible';\n  const mainMenuActive = 'js-menu-active';\n  const noscroll = 'noscroll';\n\n  // New elements\n  let mainMenuBg = '';\n\n  // Expand parent items if current page is the active menu item\n  $('.main-menu__item--active-trail > .main-menu__expand-sub > .main-menu__sub-icon').addClass(mainMenuSubOpen);\n  $('.main-menu__item--active-trail > .main-menu__dropdown').addClass(menuVisible);\n\n  $('.side-menu__item--active-trail > .side-menu__expand-sub > .side-menu__sub-icon').addClass(sideMenuSubOpen);\n  $('.side-menu__item--active-trail > .side-menu__dropdown').addClass(menuVisible);\n\n  // Remove mobile nav background\n  function removeMainMenuBg() {\n    mainMenuBg.remove();\n    mainMenuBg = '';\n  }\n\n  // Show/Hide overlay\n  function mainMenuBgToggle() {\n    // Prevent the background from scrolling when the mobile menu is active\n    body.toggleClass(noscroll);\n\n    // Display main menu\n    mainMenu.toggleClass(menuVisible);\n\n    //Scroll to main menu items\n    mainMenuActiveItem = $('.is-active');\n    if (mainMenuActiveItem.length) {\n      mainMenuActiveItem.get(0).scrollIntoView();\n    }\n\n    // Remove the overlay if it exists\n    if (mainMenuBg.length) {\n      removeMainMenuBg();\n    }\n    // Add overlay if needed\n    else {\n      mainMenuBg = $('<span class=\"js-main-menu-close\" />');\n      mainMenuBg.css({top: bodyPaddingTop});\n      mainMenuToggleOpen.append(mainMenuBg);\n    }\n  };\n\n\n\n  // Main Menu\n  mainMenuToggle.click(function (e) {\n    e.preventDefault();\n    mainMenuBgToggle();\n    // expandParents();\n\n  });\n\n  // Display Sub-nav\n  mainMenuExpandSub.click(function (e) {\n    e.preventDefault();\n    $(this).children(mainMenuSubIcon).toggleClass(mainMenuSubOpen);\n    $(this).next(mainMenuSub).toggleClass(menuVisible);\n  });\n\n  // Display Sub-nav\n  sideMenuExpandSub.click(function (e) {\n    e.preventDefault();\n    $(this).children(sideMenuSubIcon).toggleClass(sideMenuSubOpen);\n    $(this).next(sideMenuSub).toggleClass(menuVisible);\n  });\n\n  // Calculate body padding top (to accommodate the admin menu)\n  function calculateBodyPaddingTop() {\n    bodyPaddingTop = parseInt(body.css('padding-top'), 10);\n  };\n\n  // Calculate header height (to accommodate the fixed header bar)\n  function calculateHeaderHeight() {\n    headerHeight = 0;\n    if (header.css('position') == 'fixed') {\n      headerHeight = parseInt(header.css('height'), 10);\n    }\n  };\n\n  function setSideMenuSubMaxHeight() {\n    $(sideMenuSubInner).each(function () {\n      dummyElement = $(this).clone();\n      dummyElement.css({'visibility': 'hidden', 'position': 'absolute', 'max-height': 'unset' }).insertAfter(this);\n      dummyElementMaxHeight = dummyElement.height();\n      dummyElement.remove();\n      $(this).closest(sideMenuSub).css({'max-height': dummyElementMaxHeight});\n    });\n  }\n\n  // Set the height and position of the main-nav and header bar\n  function calculateMenuHeights() {\n    dom.ready(function() {\n      winH = parseInt(win.height(), 10);\n      calculateBodyPaddingTop();\n      calculateHeaderHeight();\n      maxHeight = winH - bodyPaddingTop;\n      mainMenu.css({'top': bodyPaddingTop, 'max-height': maxHeight});\n      header.css({'top': bodyPaddingTop});\n      layoutContainer.css({'margin-top': headerHeight});\n      setSideMenuSubMaxHeight();\n    });\n  };\n\n  calculateMenuHeights();\n\n  // Update everything when the window is resized\n  win.resize(function () {\n    waitForFinalEvent(function(){\n      winW = parseInt(win.width(), 10);\n      // If desktop width remove all mobile menu stuff\n      if (winW > 900) {\n        // Remove background overlay\n        if (mainMenuBg.length) {\n          removeMainMenuBg();\n        }\n        // Remove noscroll class from body\n        body.removeClass(noscroll);\n        // Hide mobile menu\n        mainMenu.removeClass(menuVisible);\n      }\n      // setHeaderMarginTop();\n      calculateMenuHeights();\n    }, 100, \"Main menu - window resize\");\n  });\n\n  calculateBodyPaddingTop();\n  var c;\n\n  win.scroll(function () {\n     currentScrollTop = parseInt(win.scrollTop());\n     if (c < currentScrollTop && currentScrollTop > bodyPaddingTop + headerHeight) {\n       header.addClass(\"scrollUp\");\n     } else if (c > currentScrollTop && !(currentScrollTop <= headerHeight)) {\n       header.removeClass(\"scrollUp\");\n     }\n     c = currentScrollTop;\n   });\n\n}(jQuery, Drupal));\n"]}