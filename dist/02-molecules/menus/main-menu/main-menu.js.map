{"version":3,"sources":["02-molecules/menus/main-menu/main-menu.js"],"names":["toggleClass","length","remove","css","top","append","window","height","outerHeight","document","ready","click","preventDefault","next","jQuery","Drupal"],"mappings":"aAAC,YAAqB,CAkCpB,YAA4B,CAE1B,EAAKA,WAAL,GAF0B,CAK1B,EAASA,WAAT,GAL0B,CAQtB,EAAWC,MARW,EASxB,EAAWC,MAAX,EATwB,CAUxB,EAAa,EAVW,GAexB,EAAa,EAAE,qCAAF,CAfW,CAgBxB,EAAWC,GAAX,CAAe,CAACC,KAAD,CAAf,CAhBwB,CAiBxB,EAAmBC,MAAnB,GAjBwB,CAmB3B,CArDmB,GAEd,GAAiB,EAAE,mBAAF,CAFH,CAGd,EAAqB,EAAE,yBAAF,CAHP,CAId,EAAW,EAAE,WAAF,CAJG,CAKd,EAAc,EAAE,wBAAF,CALA,CAMd,EAAU,EAAE,yBAAF,CANI,CAOd,EAAO,EAAE,MAAF,CAPO,CAQd,EAAM,EAAEC,MAAF,CARQ,CAYd,EAAkB,YAZJ,CAcd,EAAW,UAdG,CAiBhB,EAAa,EAjBG,CAoBhB,EAAO,EAAIC,MAAJ,EApBS,CAqBhB,EAAgB,GArBA,CAuBhB,EAAQN,MAvBQ,GAwBlB,EAAgB,EAAQO,WAAR,EAxBE,EA2BpB,GAAI,GAAe,GAAnB,CAEA,EAAEC,QAAF,EAAYC,KAAZ,CAAkB,UAAW,CAC3B,EAASP,GAAT,CAAa,CAAC,KAAD,CAAuB,cAAvB,CAAb,CACD,CAFD,CA7BoB,CAwDpB,EAAeQ,KAAf,CAAqB,WAAa,CAChC,EAAEC,cAAF,EADgC,CAEhC,GACD,CAHD,CAxDoB,CA8DpB,EAAYD,KAAZ,CAAkB,WAAa,CAC7B,EAAEC,cAAF,EAD6B,CAE7B,EAAE,IAAF,EAAQZ,WAAR,CArDsB,6BAqDtB,CAF6B,CAG7B,EAAE,IAAF,EAAQa,IAAR,CAAa,IAAb,EAAmBb,WAAnB,GACD,CAJD,CAKD,CAnEA,EAmECc,MAnED,CAmESC,MAnET,C","file":"main-menu.js","sourcesContent":["(function ($, Drupal) {\n  // Element selectors\n  const mainMenuToggle = $('.main-menu-toggle');\n  const mainMenuToggleOpen = $('.main-menu-toggle--open');\n  const mainMenu = $('.main-nav');\n  const mainMenuSub = $('.main-menu__expand-sub');\n  const toolbar = $('#toolbar-administration');\n  const body = $('body');\n  const win = $(window);\n\n  // Classes\n  const mainMenuSubOpen = 'main-menu__expand-sub--open';\n  const mainMenuVisible = 'js-visible';\n  const mainMenuActive = 'js-menu-active';\n  const noscroll = 'noscroll';\n\n  // New elements\n  let mainMenuBg = '';\n\n  // Account for admin menu\n  let winH = win.height();\n  let toolbarHeight = '0';\n\n  if (toolbar.length) {\n    toolbarHeight = toolbar.outerHeight();\n  }\n\n  let heightAdjust = winH - toolbarHeight;\n\n  $(document).ready(function() {\n    mainMenu.css({'top': toolbarHeight, 'max-height': heightAdjust});\n  })\n\n  // Show/Hide overlay\n  function mainMenuBgToggle() {\n    // Prevent the background from scrolling\n    body.toggleClass(noscroll);\n\n    // Display Main Nav\n    mainMenu.toggleClass(mainMenuVisible);\n\n    // Remove the overlay if it exists\n    if (mainMenuBg.length) {\n      mainMenuBg.remove();\n      mainMenuBg = '';\n    }\n\n    // Add overlay\n    else {\n      mainMenuBg = $('<span class=\"js-main-menu-close\" />');\n      mainMenuBg.css({top: toolbarHeight});\n      mainMenuToggleOpen.append(mainMenuBg);\n    }\n  };\n\n  // Main Menu\n  mainMenuToggle.click(function (e) {\n    e.preventDefault();\n    mainMenuBgToggle();\n  });\n\n  // Display Sub-nav\n  mainMenuSub.click(function (e) {\n    e.preventDefault();\n    $(this).toggleClass(mainMenuSubOpen);\n    $(this).next('ul').toggleClass(mainMenuVisible);\n  });\n}(jQuery, Drupal));\n"]}